modules:
  trigger:
    - key: forgefilescanner-hello-world
      function: main
      events:
        - avi:jira:created:issue
        - avi:jira:created:attachment
  function:
    - key: main
      handler: index.run
    - key: consumer-function
      handler: consumer.handler
  consumer:
    - key: queue-consumer
      # Name of the queue for which this consumer will be invoked
      queue: har-processor
      resolver:
        function: consumer-function
        # resolver function to be called with payload
        method: event-listener
app:
  runtime:
    name: nodejs18.x
  id: ari:cloud:ecosystem::app/aa939881-ce14-411d-9b3b-24206bdb6d44
permissions:
  scopes:
    - read:jira-work
    - write:jira-work
  external:
    fetch:
      backend:
        - har.securely.abrega.com
        - api.media.atlassian.com
